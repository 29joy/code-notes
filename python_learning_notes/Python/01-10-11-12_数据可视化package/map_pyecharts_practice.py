# å¯¼å…¥ç›¸å…³åŒ…
from pyecharts.charts import Map
from pyecharts.options import VisualMapOpts

map = Map()
data = [
    ("åŒ—äº¬", 399),
    ("å¤©æ´¥", 299),
    ("ä¸Šæµ·", 699),
    ("æ¹–åŒ—", 1299),
    ("å±±ä¸œ", 699),
    ("æ²³å—", 799),
    ("å¹¿ä¸œ", 1199),
    ("é‡åº†", 899),
    ("æµ™æ±Ÿ", 899),
    ("æ±Ÿè‹", 899),
    ("å±±è¥¿", 299),
    ("è¾½å®", 399),
]
# [
#     "åŒ—äº¬", "å¤©æ´¥", "ä¸Šæµ·", "é‡åº†", "æ²³åŒ—", "æ²³å—", "äº‘å—", "è¾½å®", "é»‘é¾™æ±Ÿ", "æ¹–å—", "å®‰å¾½",
#     "å±±ä¸œ", "æ–°ç–†", "æ±Ÿè‹", "æµ™æ±Ÿ", "æ±Ÿè¥¿", "æ¹–åŒ—", "å¹¿è¥¿", "ç”˜è‚ƒ", "å±±è¥¿", "å†…è’™å¤", "é™•è¥¿",
#     "å‰æ—", "ç¦å»º", "è´µå·", "å¹¿ä¸œ", "é’æµ·", "è¥¿è—", "å››å·", "å®å¤", "æµ·å—", "å°æ¹¾", "é¦™æ¸¯", "æ¾³é—¨"
# ]
map.add("åœ°å›¾", data, maptype="china")

# è®¾ç½®å…¨å±€é€‰é¡¹
map.set_series_opts(label_opts={"is_show": True})  # æ˜¾ç¤ºçœä»½æ ‡ç­¾
map.set_global_opts(
    title_opts={"text": "ä¸­å›½å„çœæ–°å¢ç—…ä¾‹åˆ†å¸ƒå›¾"},
    visualmap_opts=VisualMapOpts(
        is_show=True,
        is_piecewise=True,
        pieces=[
            {"min":1, "max":9, "label":"1-9äºº", "color":"#CCFFFF"},
            {"min": 10, "max": 99, "label": "10-99äºº", "color": "#FFFF99"},
            {"min": 100, "max": 499, "label": "100-499äºº", "color": "#FF9966"},
            {"min": 500, "max": 999, "label": "500-999äºº", "color": "#FF6666"},
            {"min": 1000, "max": 9999, "label": "1000-9999äºº", "color": "#CC3333"},
            {"min": 10000, "label": "10000äººä»¥ä¸Š", "color": "#990033"},
        ],
    series_index=0
    )
)
map.render("2020_covid_china_map.html")

# -------------------------------------------------åœ°åŸŸåç§°è¦å¯¹åº”----------------------------------------------------
"""
ç¬¬ä¸€æ¬¡è¾“å…¥çš„çœä»½ç­‰éƒ½æ˜¯ç”¨æ‹¼éŸ³çš„, å¦‚beijingã€shandong, ä½†æ˜¯æ²¡æœ‰ç”Ÿæˆå‡ºæ¥, æ”¹æˆæ±‰å­—ä¹‹åæˆåŠŸæ˜¾ç¤ºäº†, ç¬¬ä¸€æ¬¡æ²¡æœ‰æ˜¾ç¤ºæˆåŠŸæ˜¯å’Œè¾“å…¥çš„ä¸æ˜¯æ±‰å­—æœ‰å…³å—
æ˜¯çš„, **ä½ ç¬¬ä¸€æ¬¡æ²¡æœ‰æˆåŠŸæ˜¾ç¤ºåœ°å›¾, æ˜¯å› ä¸ºçœä»½åç§°å¿…é¡»ä½¿ç”¨ä¸­æ–‡åç§°**, ä¸èƒ½ç”¨æ‹¼éŸ³ã€‚
åŸå› è§£é‡Š: 
åœ¨ `pyecharts` çš„ `Map` åœ°å›¾ä¸­, åœ°å›¾åŒºåŸŸçš„åŒ¹é…æ˜¯åŸºäº **å†…ç½®åœ°ç†æ•°æ®æ–‡ä»¶ï¼ˆGeoJSONï¼‰** çš„ã€‚è¿™äº›æ–‡ä»¶ä¸­: 
* **ä¸­å›½åœ°å›¾ä½¿ç”¨çš„æ˜¯ä¸­æ–‡è¡Œæ”¿åŒºåç§°**, æ¯”å¦‚: 
  * `"åŒ—äº¬"` âœ…
  * `"beijing"` âŒï¼ˆæ— æ³•å¯¹åº”ï¼‰
å®˜æ–¹æ¨è: å¦‚ä½•é¿å…å‡ºé”™ï¼Ÿ
ä½ å¯ä»¥ç”¨è¿™ä¸ªè¾…åŠ©å·¥å…·æ¥è·å–æ‰€æœ‰æ”¯æŒçš„åœ°åŒºå: 
from pyecharts.globals import ChartType, SymbolType
from pyecharts.datasets import register_url
# æ³¨å†Œåœ°å›¾æ–‡ä»¶æ¥æºï¼ˆå¯é€‰, ä¸åŠ é»˜è®¤ä¹Ÿæ˜¯ä¸­å›½åœ°å›¾ï¼‰
register_url("https://echarts-maps.github.io/echarts-countries-js")
# æ‰“å°æ”¯æŒçš„åœ°åŒºï¼ˆä½ å¯æ ¹æ®è¿™ä¸ªæ¥æ„é€ æ•°æ®ï¼‰
from pyecharts.globals import GeoType
print(GeoType.get_coordinate_name("china"))
ä½†å®é™…æ›´æ¨èçš„æ–¹æ³•æ˜¯: **ç›´æ¥å‚è€ƒè¿™ä»½å®Œæ•´ä¸­æ–‡çœä»½åˆ—è¡¨**: 
[
    "åŒ—äº¬", "å¤©æ´¥", "ä¸Šæµ·", "é‡åº†", "æ²³åŒ—", "æ²³å—", "äº‘å—", "è¾½å®", "é»‘é¾™æ±Ÿ", "æ¹–å—", "å®‰å¾½",
    "å±±ä¸œ", "æ–°ç–†", "æ±Ÿè‹", "æµ™æ±Ÿ", "æ±Ÿè¥¿", "æ¹–åŒ—", "å¹¿è¥¿", "ç”˜è‚ƒ", "å±±è¥¿", "å†…è’™å¤", "é™•è¥¿",
    "å‰æ—", "ç¦å»º", "è´µå·", "å¹¿ä¸œ", "é’æµ·", "è¥¿è—", "å››å·", "å®å¤", "æµ·å—", "å°æ¹¾", "é¦™æ¸¯", "æ¾³é—¨"
]
"""
# -------------------------------------------------é¢œè‰²å¯¹ç…§è¡¨----------------------------------------------------
"""
"#FF6666"ç­‰æ˜¯6ä½é¢œè‰²å€¼
ab173æœ‰ä¸€ä¸ªå‰ç«¯->rgbé¢œè‰²å¯¹ç…§è¡¨, æƒ³è¦å“ªä¸ªé¢œè‰²é€šè¿‡æ‹–æ‹½å¹¶æŸ¥çœ‹å…¶å¯¹åº”çš„6ä½é¢œè‰²å€¼å³å¯
"""
# -------------------------------------------------å›½é™…å¸¸ç”¨å·¥å…·----------------------------------------------------
"""
åœ¨éä¸­å›½åŒºåŸŸ, å°¤å…¶æ˜¯æ¬§ç¾ã€å°åº¦ã€æ—¥éŸ©ç­‰å¼€å‘è€…ç¾¤ä½“ä¸­, æœ€å¸¸ä½¿ç”¨çš„ã€åŠŸèƒ½ä¸ `pyecharts` ç±»ä¼¼çš„ **æ•°æ®å¯è§†åŒ–å·¥å…·** æœ‰ä»¥ä¸‹å‡ ç±»: 

---

## âœ… 1. **Plotly**ï¼ˆæœ€æ¥è¿‘ `pyecharts` çš„äº¤äº’å¼å›¾è¡¨åº“ï¼‰

* ğŸ“Œ ç‰¹ç‚¹: 

  * æ”¯æŒäº¤äº’å¼å›¾è¡¨ï¼ˆç¼©æ”¾ã€æ‚¬æµ®ã€ç‚¹å‡»ç­‰ï¼‰
  * å¯å¯¼å‡ºä¸º HTML, é€‚åˆç½‘é¡µåµŒå…¥
  * å°è£…è‰¯å¥½, é€‚ç”¨äº Python / JavaScript / R ç­‰è¯­è¨€

* ğŸŒ å…¨çƒå¹¿æ³›ä½¿ç”¨, æ–‡æ¡£ä¸°å¯Œã€æ”¯æŒåœ°å›¾ã€3Dã€çƒ­åŠ›å›¾ç­‰

* ğŸ¯ æ¨èæ›¿ä»£ `pyecharts` è¿›è¡Œäº¤äº’å¼æ•°æ®åˆ†æä¸æ¼”ç¤º

```bash
pip install plotly
```

```python
import plotly.express as px

fig = px.choropleth(
    locations=["USA", "JPN", "IND"],
    locationmode="country names",
    color=[1000, 500, 300],
    title="COVID-19 Total Cases"
)
fig.show()
```

---

## âœ… 2. **Matplotlib + Seaborn**ï¼ˆç§‘å­¦åˆ†æå›¾è¡¨ä¸»åŠ›ï¼‰

* ğŸ“Š æ ‡å‡†ç§‘ç ”å›¾ã€é™æ€å›¾çš„ä¸»åŠ›å·¥å…·
* ğŸ“š ç”¨äºç”ŸæˆæŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹å›¾ã€ç®±çº¿å›¾ç­‰
* ğŸ“¦ `seaborn` æ˜¯åœ¨ matplotlib ä¹‹ä¸Šåšçš„é«˜çº§å°è£…, è¯­æ³•æ›´ç®€æ´ã€é»˜è®¤ç¾è§‚

```bash
pip install matplotlib seaborn
```

```python
import seaborn as sns
import matplotlib.pyplot as plt

sns.lineplot(x=["Jan", "Feb", "Mar"], y=[100, 300, 200])
plt.title("Monthly Cases")
plt.show()
```

---

## âœ… 3. **Altair**ï¼ˆè½»é‡çº§ã€å£°æ˜å¼ã€å¯å¯¼å‡º HTMLï¼‰

* ğŸ“‹ è¯­æ³•ä¸ `pyecharts` ç±»ä¼¼ï¼ˆæ•°æ®é©±åŠ¨å¼ï¼‰, ä¸“æ³¨äºå¯è§†åŒ–â€œè¯­ä¹‰è¡¨è¾¾â€
* ğŸ¨ æ”¯æŒ Vega/Vega-Lite æ ¼å¼, ä¾¿äºåµŒå…¥ç½‘é¡µ

```bash
pip install altair
```

```python
import altair as alt
import pandas as pd

df = pd.DataFrame({
    "country": ["USA", "JPN", "IND"],
    "cases": [1000, 500, 300]
})

chart = alt.Chart(df).mark_bar().encode(
    x="country",
    y="cases"
)

chart.show()
```

---

## âœ… æ€»ç»“å¯¹æ¯”

| å·¥å…·             | ç±»å‹         | æ˜¯å¦äº¤äº’ | ä½¿ç”¨èŒƒå›´    | æ¨èç”¨é€”          |
| -------------- | ---------- | ---- | ------- | ------------- |
| **Plotly**     | é«˜çº§å›¾è¡¨åº“      | âœ…    | å…¨çƒå¹¿æ³›    | ä»ªè¡¨ç›˜ã€HTMLè¾“å‡ºã€åœ°å›¾ |
| **Matplotlib** | åŸºç¡€å›¾è¡¨åº“      | âŒ    | å­¦æœ¯ç§‘ç ”    | é™æ€å›¾ã€é«˜åº¦è‡ªå®šä¹‰å›¾è¡¨   |
| **Seaborn**    | ç¾åŒ–å°è£…åº“      | âŒ    | æ•°æ®ç§‘å­¦    | ç»Ÿè®¡å›¾è¡¨ã€æ¢ç´¢æ€§åˆ†æ    |
| **Altair**     | å£°æ˜å¼å›¾è¡¨      | âœ…    | è½»é‡å¯åµŒå…¥ç½‘é¡µ | å¯è§†åŒ–ç®€æŠ¥ã€ç½‘é¡µåµŒå…¥    |
| **pyecharts**  | åŸºäº ECharts | âœ…    | ä¸­å›½åŒºä¸ºä¸»   | åœ°å›¾ã€äº¤äº’åŠ¨ç”»ã€ä¸­æ–‡æ”¯æŒå¼º |

---

æ˜¯å¦è¦æˆ‘ä¸ºä½ æä¾›ä¸€ä¸ª [`plotly é‡ç° pyecharts åœ°å›¾åŠŸèƒ½çš„ç¤ºä¾‹`](f)ï¼Ÿå¯ä»¥ç”¨åŒæ ·çš„æ•°æ®ç»˜åˆ¶å…¨çƒå›½å®¶æˆ–ä¸­å›½çœä»½çƒ­åŠ›å›¾ã€‚

"""